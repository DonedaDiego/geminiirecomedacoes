<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planos - Geminii Tech</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            dark: '#000000',
            light: '#ffffff',
            subtle: 'rgba(255,255,255,0.1)',
            geminii: '#ba39af'
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif']
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      overflow-x: hidden;
    }

    /* Neon Logo Effect */
    .neon-logo {
      transition: all 0.3s ease;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .neon-logo:hover {
      filter: 
        drop-shadow(0 0 5px #ba39af)
        drop-shadow(0 0 10px #ba39af)
        drop-shadow(0 0 15px #ba39af)
        drop-shadow(0 0 20px #ba39af)
        brightness(1.2);
      transform: scale(1.1);
    }

    /* Navbar Effects */
    nav:hover {
      background: rgba(186, 57, 175, 0.05);
      border-color: rgba(186, 57, 175, 0.3);
      box-shadow: 
        0 25px 50px -12px rgba(0, 0, 0, 0.25),
        0 0 20px rgba(186, 57, 175, 0.2),
        0 0 40px rgba(186, 57, 175, 0.1);
      transition: all 0.3s ease;
    }

    nav a:hover {
      color: #ba39af;
      text-shadow: 
        0 0 5px #ba39af,
        0 0 10px #ba39af,
        0 0 15px #ba39af;
      transition: all 0.3s ease;
    }

    /* Plan Cards */
    .plan-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 2rem;
      transition: all 0.3s ease;
      position: relative;
    }

    .plan-card:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(186, 57, 175, 0.3);
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(186, 57, 175, 0.1);
    }

    .plan-card.featured {
      border: 2px solid #ba39af;
      background: rgba(186, 57, 175, 0.05);
    }

    .plan-card.featured::before {
      content: 'MAIS ECONÔMICO';
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 4px 16px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: bold;
      text-transform: uppercase;
    }

    /* Section Headers */
    .section-header {
      background: linear-gradient(135deg, #ba39af, #d946ef);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 800;
    }

    /* Price styling */
    .price-main {
      background: linear-gradient(135deg, #ba39af, #d946ef);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 800;
    }

    /* Button styling */
    .btn-plan {
      background: linear-gradient(135deg, #ba39af, #d946ef);
      border: none;
      border-radius: 12px;
      padding: 12px 24px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      width: 100%;
    }

    .btn-plan:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(186, 57, 175, 0.3);
      filter: brightness(1.1);
    }

    .btn-trial {
      background: linear-gradient(135deg, #10b981, #059669);
      border: none;
      border-radius: 12px;
      padding: 16px 32px;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      font-size: 1.1rem;
    }

    .btn-trial:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 30px rgba(16, 185, 129, 0.4);
      filter: brightness(1.1);
    }

    /* Feature list styling */
    .feature-list {
      list-style: none;
      padding: 0;
      margin: 1.5rem 0;
    }

    .feature-list li {
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      color: #e5e7eb;
    }

    .feature-list li:last-child {
      border-bottom: none;
    }

    .feature-list li i {
      color: #22c55e;
      margin-right: 8px;
      width: 16px;
    }

    /* User Menu */
    .user-menu {
      position: relative;
      display: inline-block;
    }

    .user-menu-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      min-width: 200px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      margin-top: 8px;
      padding: 8px;
    }

    .user-menu.active .user-menu-dropdown {
      display: block;
    }

    .user-menu-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      color: #333;
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.2s ease;
      font-size: 14px;
    }

    .user-menu-item:hover {
      background: rgba(186, 57, 175, 0.1);
      color: #ba39af;
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ba39af, #d946ef);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .user-avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(186, 57, 175, 0.5);
    }

    .plan-badge {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 9px;
      font-weight: 600;
      text-transform: uppercase;
      margin-left: 4px;
    }

    .plan-badge.premium {
      background: linear-gradient(135deg, #f59e0b, #d97706);
    }

    .plan-badge.strategic {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    }

    /* Trial highlight */
    .trial-highlight {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05));
      border: 2px solid rgba(16, 185, 129, 0.3);
      position: relative;
    }

    .trial-highlight::before {
      content: 'COMECE AQUI';
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 4px 16px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: bold;
      text-transform: uppercase;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .plan-card {
        padding: 1.5rem;
      }
    }
  </style>
</head>
<body class="bg-black text-white font-sans">
    <div class="relative min-h-screen">
      <!-- Background Pattern -->
      <div class="fixed inset-0 z-0">
        <div class="absolute inset-0 bg-gradient-to-br from-purple-900/20 via-black to-pink-900/20"></div>
        <div class="absolute top-0 left-0 w-full h-full opacity-10">
          <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500 rounded-full blur-3xl"></div>
          <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-pink-500 rounded-full blur-3xl"></div>
        </div>
      </div>
      
      <!-- Navbar -->
      <nav class="fixed top-6 left-1/2 transform -translate-x-1/2 z-50 bg-opacity-5 border-opacity-10 bg-white border-white border rounded-full pt-4 pr-4 pb-4 pl-4 shadow-xl backdrop-blur-md">
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <img src="assets/logo.png" alt="Geminii Logo" class="w-6 h-6 neon-logo" onclick="navigateHome()" onerror="this.src='/assets/logo.png'; this.onerror=null;">
          </div>
          
          <div class="hidden md:flex items-center space-x-6 text-xs text-gray-300 ml-8">
            <a href="/dashboard.html" class="hover:text-white transition-colors">Dashboard</a>
            <a href="/planos" class="hover:text-white transition-colors text-geminii">Planos</a>
            <a href="/sobre" class="hover:text-white transition-colors">Sobre</a>
          </div>
          
          <!-- Auth Section -->
          <div class="flex items-center space-x-3 ml-8">
            <div id="apiStatus" class="w-8 h-8 bg-green-500 bg-opacity-10 border border-green-500 border-opacity-30 rounded-full flex items-center justify-center relative">
              <i class="fas fa-shield-alt text-green-500 text-xs"></i>
              <div class="absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
            </div>
            
            <!-- User View -->
            <div id="userView" class="user-menu hidden">
              <div class="user-avatar" onclick="toggleUserMenu()">
                <span id="userInitials">GU</span>
              </div>
              <div class="user-menu-dropdown" id="userMenuDropdown">
                <div class="px-3 py-2 border-b border-gray-200">
                  <p class="text-sm font-medium text-gray-900" id="userName">Usuário</p>
                  <p class="text-xs text-gray-500" id="userEmail">email@example.com</p>
                  <p class="text-xs text-gray-500">
                    Plano: <span id="userPlan" class="font-medium">Básico</span>
                    <span id="planBadge" class="plan-badge">Free</span>
                  </p>
                </div>
                <a href="/dashboard.html" class="user-menu-item">
                  <i class="fas fa-tachometer-alt"></i>
                  Dashboard
                </a>
                <a href="/planos.html" class="user-menu-item">
                  <i class="fas fa-crown"></i>
                  Planos & Assinatura
                </a>
                <div class="border-t border-gray-200 mt-1 pt-1">
                  <a href="#" onclick="logout()" class="user-menu-item">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
    
    <!-- Main Content -->
    <div class="relative z-10 pt-32 pb-20">
      <div class="max-w-6xl mx-auto px-6">
        
        <!-- Header Section -->
        <div class="text-center mb-16">
          <h1 class="text-4xl md:text-6xl font-bold mb-6">
            <span class="section-header">Turma Fechada</span><br>
            <span class="text-white">Opções Estruturadas</span>
          </h1>
          <p class="text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed mb-8">
            Experimente o poder da Geminii por <strong class="text-green-400">15 dias</strong>. 
            Liberamos acesso total ao <strong class="text-purple-400">app.geminii</strong> para que você explore 
            todas as funcionalidades: estratégias de opções estruturadas, análises automatizadas e recursos de inteligência artificial.
          </p>
        </div>

        <!-- Trial Offer Section -->
        <div class="plan-card trial-highlight p-8 mb-12 max-w-4xl mx-auto text-center">
          <div class="mb-6 mt-4">
            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-rocket text-white text-2xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-white mb-4">Comece seu Trial de 15 Dias</h3>
            <p class="text-gray-300 text-lg leading-relaxed">
              Acesso <strong>completo e irrestrito</strong> a todas as ferramentas, estratégias e conteúdos 
              da plataforma Geminii por 15 dias. Sem compromisso, sem cartão de crédito.
            </p>
          </div>
          
          <a href="/register.html" class="btn-trial">
            <i class="fas fa-play mr-2"></i>
            Iniciar Trial Gratuito de 15 Dias
          </a>
          
          <p class="text-gray-400 text-sm mt-4">
            Sem cartão de crédito • Cancele quando quiser • Acesso completo
          </p>
        </div>

        <!-- Plans Grid -->
        <div class="grid md:grid-cols-2 gap-8 mb-16 max-w-4xl mx-auto">
          
          <!-- Plano Mensal -->
          <div class="plan-card">
            <div class="text-center mb-6">
              <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-calendar-alt text-white text-lg"></i>
              </div>
              <h3 class="text-xl font-bold text-white mb-2">Plano Mensal</h3>
              <p class="text-gray-400 text-sm">Flexibilidade total, pague mensalmente</p>
            </div>
            
            <div class="text-center mb-6">
              <div class="text-3xl font-bold price-main mb-1">
                R$ 199
              </div>
              <div class="text-gray-400 text-sm">por mês</div>
            </div>
            
            <ul class="feature-list mb-6">
              <li><i class="fas fa-check"></i> <strong>Aulas online 2x por semana</strong> com conteúdo prático</li>
              <li><i class="fas fa-check"></i> <strong>Aulas gravadas de nivelamento</strong> (básico ao avançado)</li>
              <li><i class="fas fa-check"></i> <strong>Grupo fechado no WhatsApp</strong> para trocas</li>
              <li><i class="fas fa-check"></i> <strong>Todas as reuniões gravadas</strong> para rever</li>
              <li><i class="fas fa-check"></i> Acompanhamento direto das estratégias</li>
              <li><i class="fas fa-check"></i> Insights do dia a dia</li>
            </ul>
            
            <a href="https://lastlink.com/p/C04A36BD7" target="_blank" class="btn-plan">
              <i class="fas fa-external-link-alt mr-2"></i>
              Assinar Plano Mensal
            </a>
          </div>

          <!-- Plano Anual -->
          <div class="plan-card featured">
            <div class="text-center mb-6 mt-3">
              <div class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-crown text-white text-lg"></i>
              </div>
              <h3 class="text-xl font-bold text-white mb-2">Plano Anual</h3>
              <p class="text-gray-400 text-sm">Economia significativa com pagamento anual</p>
            </div>
            
            <div class="text-center mb-6">
              <div class="text-lg text-gray-500 line-through mb-1">
                R$ 2.388 <span class="text-xs">(se fosse mensal)</span>
              </div>
              <div class="text-3xl font-bold price-main mb-1">
                R$ 1.600
              </div>
              <div class="text-gray-400 text-sm">por ano</div>
              <div class="text-green-400 text-sm font-medium mt-2">
                Economize R$ 788 por ano
              </div>
            </div>
            
            <ul class="feature-list mb-6">
              <li><i class="fas fa-check"></i> <strong>Tudo do plano mensal +</strong></li>
              <li><i class="fas fa-check"></i> <strong>Economia de R$ 66/mês</strong></li>
              <li><i class="fas fa-check"></i> <strong>Acesso prioritário</strong> a novos conteúdos</li>
              <li><i class="fas fa-check"></i> <strong>Suporte preferencial</strong></li>
              <li><i class="fas fa-check"></i> <strong>Garantia estendida</strong></li>
              <li><i class="fas fa-check"></i> <strong>Bônus exclusivos</strong> ao longo do ano</li>
            </ul>
            
            <a href="https://lastlink.com/p/C9C1F0E61/" target="_blank" class="btn-plan">
              <i class="fas fa-external-link-alt mr-2"></i>
              Assinar Plano Anual
            </a>
          </div>
        </div>

        <!-- Meeting Section -->
        <div class="plan-card p-8 mb-16 max-w-4xl mx-auto">
          <div class="text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6">
              <i class="fas fa-video text-white text-2xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-white mb-4">Ainda tem dúvidas?</h3>
            <p class="text-gray-300 text-lg leading-relaxed mb-6">
              Antes de entrar para a comunidade, se quiser entender melhor como trabalho e como posso te ajudar, 
              podemos marcar uma <strong class="text-blue-400">meeting de 30 minutos</strong> para apresentar o método e tirar suas dúvidas.
            </p>
            
            <a href="https://wa.me/5541991565696?text=Ol%C3%A1!%20Gostaria%20de%20saber%20mais%20sobre%20a%20comunidade%20da%20Geminii.%20Podemos%20marcar%20uma%20call%20para%20voc%C3%AA%20me%20explicar%20melhor%3F" target="_blank" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-semibold rounded-lg transition-all transform hover:scale-105">
              <i class="fab fa-whatsapp mr-3"></i>
              Falar no WhatsApp
            </a>
            
            <p class="text-gray-400 text-sm mt-4">
              Resposta rápida • Sem compromisso • Método personalizado
            </p>
          </div>
        </div>

        <!-- Benefits Section -->
        <div class="plan-card p-8 mb-16">
          <h3 class="text-2xl font-bold text-white text-center mb-8">O que você terá acesso:</h3>
          
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="text-center p-4">
              <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chalkboard-teacher text-white"></i>
              </div>
              <h4 class="text-white font-semibold mb-2">Aulas Online</h4>
              <p class="text-gray-400 text-sm">2x por semana com conteúdo prático e aplicação real no mercado</p>
            </div>
            
            <div class="text-center p-4">
              <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-play-circle text-white"></i>
              </div>
              <h4 class="text-white font-semibold mb-2">Aulas Gravadas</h4>
              <p class="text-gray-400 text-sm">Nivelamento do básico ao avançado, direto ao ponto</p>
            </div>
            
            <div class="text-center p-4">
              <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fab fa-whatsapp text-white"></i>
              </div>
              <h4 class="text-white font-semibold mb-2">Grupo WhatsApp</h4>
              <p class="text-gray-400 text-sm">Fechado para trocas de experiências e discussões</p>
            </div>
            
            <div class="text-center p-4">
              <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-video text-white"></i>
              </div>
              <h4 class="text-white font-semibold mb-2">Reuniões Gravadas</h4>
              <p class="text-gray-400 text-sm">Rever e tirar dúvidas sobre operações quando quiser</p>
            </div>
            
            <div class="text-center p-4">
              <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chart-line text-white"></i>
              </div>
              <h4 class="text-white font-semibold mb-2">Estratégias</h4>
              <p class="text-gray-400 text-sm">Acompanhamento direto das estratégias do dia a dia</p>
            </div>
            
            <div class="text-center p-4">
              <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-lightbulb text-white"></i>
              </div>
              <h4 class="text-white font-semibold mb-2">Insights</h4>
              <p class="text-gray-400 text-sm">Análises e insights exclusivos do mercado</p>
            </div>
          </div>
        </div>

        <!-- CTA Final -->
        <div class="text-center plan-card p-8">
          <h3 class="text-2xl font-bold text-white mb-4">Pronto para transformar seus investimentos?</h3>
          <p class="text-gray-400 mb-6 max-w-2xl mx-auto text-sm">
            Comece com nosso trial gratuito de 15 dias e descubra como as opções estruturadas 
            podem revolucionar sua estratégia de investimento.
          </p>
          
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/register.html" class="btn-trial">
              <i class="fas fa-rocket mr-2"></i>
              Começar Trial Gratuito
            </a>
            <a href="mailto:contato@geminii.com.br" class="px-6 py-3 bg-transparent border border-geminii text-geminii hover:bg-geminii hover:text-white font-medium rounded-lg text-sm transition-all">
              Falar com consultor
            </a>
          </div>
          
          <p class="text-xs text-gray-500 mt-4">
            Trial gratuito • Sem cartão • Acesso imediato
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    let currentUser = null;
    let userToken = null;

    // Inicialização
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Geminii Planos carregado');
      
      checkAuthStatus();
      checkApiStatus();
      setupEventListeners();
      
      console.log('Sistema iniciado');
    });

    // Autenticação
    async function checkAuthStatus() {
      const token = localStorage.getItem('geminii_token');
      
      if (!token) {
        return;
      }

      try {
        const response = await fetch('/auth/verify', {
          headers: { 'Authorization': `Bearer ${token}` }
        });

        const result = await response.json();

        if (result.success) {
          userToken = token;
          currentUser = result.data.user;
          showUserView(currentUser);
        } else {
          localStorage.removeItem('geminii_token');
          localStorage.removeItem('geminii_user');
        }

      } catch (error) {
        console.error('Erro na verificação de auth:', error);
      }
    }

    function showUserView(user) {
      document.getElementById('userView').classList.remove('hidden');

      const initials = user.name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
      document.getElementById('userInitials').textContent = initials;
      document.getElementById('userName').textContent = user.name;
      document.getElementById('userEmail').textContent = user.email;
      document.getElementById('userPlan').textContent = user.plan_name || 'Básico';

      const planBadge = document.getElementById('planBadge');
      const planId = user.plan_id || 3;
      
      if (planId === 3) {
        planBadge.textContent = 'FREE';
        planBadge.className = 'plan-badge';
      } else if (planId === 4) {
        planBadge.textContent = 'COMUNIDADE';
        planBadge.className = 'plan-badge premium';
      } else {
        planBadge.textContent = user.plan_name?.toUpperCase() || 'FREE';
        planBadge.className = 'plan-badge';
      }
      
      // Verificar se é trial ativo
      if (user.user_type === 'trial') {
        planBadge.textContent = 'TRIAL';
        planBadge.className = 'plan-badge strategic';
      }
    }

    function toggleUserMenu() {
      const userMenu = document.querySelector('.user-menu');
      userMenu.classList.toggle('active');
    }

    async function logout() {
      try {
        if (userToken) {
          await fetch('/auth/logout', {
            method: 'POST',
            headers: { 'Authorization': `Bearer ${userToken}` }
          });
        }
      } catch (error) {
        console.error('Logout error:', error);
      } finally {
        localStorage.removeItem('geminii_token');
        localStorage.removeItem('geminii_user');
        currentUser = null;
        userToken = null;
        document.getElementById('userView').classList.add('hidden');
        const userMenu = document.querySelector('.user-menu');
        if (userMenu) {
          userMenu.classList.remove('active');
        }
      }
    }

    function navigateHome() {
      window.location.href = '/';
    }

    async function checkApiStatus() {
      try {
        const response = await fetch('/api/status');
        const data = await response.json();
        
        if (data.status === 'online') {
          document.getElementById('apiStatus').innerHTML = `
            <i class="fas fa-shield-alt text-green-500 text-xs"></i>
            <div class="absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
          `;
        }
      } catch (error) {
        document.getElementById('apiStatus').innerHTML = `
          <i class="fas fa-shield-alt text-red-500 text-xs"></i>
          <div class="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
        `;
      }
    }

    function setupEventListeners() {
      // Fechar menu do usuário ao clicar fora
      document.addEventListener('click', (e) => {
        const userMenu = document.querySelector('.user-menu');
        if (userMenu && !userMenu.contains(e.target)) {
          userMenu.classList.remove('active');
        }
      });
    }

    // Funções globais
    window.navigateHome = navigateHome;
    window.toggleUserMenu = toggleUserMenu;
    window.logout = logout;

    // Auto-verificar API status a cada 30 segundos
    setInterval(checkApiStatus, 30000);
  </script>
</body>
</html>